(this["webpackJsonptunes-app"]=this["webpackJsonptunes-app"]||[]).push([[0],{118:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),s=n.n(c),i=n(18),o=n(53),l=n(75),u=(n(96),n(97),n(152)),j=n(155),d=n(157),b=(n(98),n(4)),h=Object(u.a)((function(e){return{root:{flexGrow:1,maxHeight:"85vh"},outterGrid:{padding:"0 10px",margin:"10px 0",width:"100%",maxHeight:"85vh"},paper:{padding:"15px",margin:"10px",maxHeight:"80vh",minHeight:"240px",overflowY:"auto"},rightGrid:{backgroundColor:"#551281"}}}));function O(e){var t=h();return Object(b.jsx)("div",{className:t.root,children:Object(b.jsxs)(j.a,{container:!0,spacing:1,className:t.outterGrid,children:[Object(b.jsx)(j.a,{item:!0,xs:12,md:5,children:Object(b.jsx)(d.a,{className:t.paper,children:e.left})}),Object(b.jsx)(j.a,{item:!0,xs:12,md:7,children:Object(b.jsx)(d.a,{className:t.paper+" "+t.rightGrid+" HideScroll ",children:e.right})})]})})}var x=n(79),m=n.n(x),g=n(43),p=n(30),f="SEARCH_FOR_ALBUMS",y="ALBUMS_ERR",v="GET_SONGS_FROM_ALBUM",N="SONG_ERR",w="RESET_SONGS",C=n(77),S=n.n(C).a.create({baseURL:"https://itunes.apple.com/"}),k=function(e,t){return function(n){var a="search?term="+t+"&entity=album";S.get(a).then((function(a){var r;if(0===(r="any"!==e?function(e,t,n){var a=new RegExp(t,"i");return n.filter((function(t){return t[e].match(a)}))}(e,t,a.data.results):a.data.results).length){var c="No albums connected to the term ".concat(t," were found. Please try again with different parameter.");n(E(c))}else n(R(r))})).catch((function(e){console.log(e.message);n(E("A probblem has occured while connecting to the database, please try again later"))}))}},E=function(e){return{type:y,err:e}},R=function(e){return{type:f,results:e}},_=function(e){return{type:N,err:e}},A=function(e){return e.shift(),{type:v,songs:e}},T=n(5),I=n(163),M=n(158),F=n(122),D=n(159),L=n(162),G="#551281",H=Object(u.a)((function(e){return{inputLine:{width:"100%",margin:"15px 0"},center:{display:"flex",justifyContent:"space-around"},title:{textAlign:"center"}}})),P=Object(T.a)({root:{color:G,"&$checked":{color:G}},checked:{}})((function(e){return Object(b.jsx)(I.a,Object(p.a)({color:"default"},e))})),B=Object(T.a)((function(e){return{root:{color:e.palette.getContrastText(G),backgroundColor:G,"&:hover":{backgroundColor:G},marginTop:"10px"}}}))(M.a),J=function(e){var t=H(),n=Object(i.b)(),r=Object(a.useState)({artist:!0,album:!1,any:!1,label:"artist"}),c=Object(g.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(""),u=Object(g.a)(l,2),j=u[0],d=u[1];return Object(b.jsxs)(a.Fragment,{children:[Object(b.jsxs)("div",{className:t.title,children:[Object(b.jsx)(F.a,{variant:"h5",children:"Look for albums"}),Object(b.jsx)(F.a,{children:"Match by:"})]}),Object(b.jsxs)("div",{className:t.center,children:[Object(b.jsx)(D.a,{control:Object(b.jsx)(P,{checked:s.artist,onChange:function(e){o({artist:!0,album:!1,any:!1,label:"artist"})},name:"artist check"}),label:"Artist name"}),Object(b.jsx)(D.a,{control:Object(b.jsx)(P,{checked:s.album,onChange:function(e){o({artist:!1,album:!0,any:!1,label:"album"})},name:"album check"}),label:"Album title"}),Object(b.jsx)(D.a,{control:Object(b.jsx)(P,{checked:s.any,onChange:function(e){o({artist:!1,album:!1,any:!0,label:"album or artist"})},name:"any check"}),label:"Just any match"})]}),Object(b.jsx)(L.a,{className:t.inputLine,id:"outlined-name",label:"Match by ".concat(s.label,"s"),value:j,onChange:function(e){d(e.target.value)},variant:"outlined"}),Object(b.jsx)("div",{className:t.center,children:Object(b.jsx)(B,{variant:"contained",color:"primary",onClick:function(e){var t=s.artist?"artistName":s.album?"collectionName":"any";n(k(t,j))},children:"Szukaj"})})]})},U=(n(118),function(e){return Object(b.jsxs)("div",{"data-testid":"spinner",className:"spinner",children:[Object(b.jsx)("div",{className:"dot1"+(e.white?" whiteDot":"")}),Object(b.jsx)("div",{className:"dot2"+(e.white?" whiteDot":"")})]})}),z=n(164),X=n(161),Y=n(160),V=n(78),W=n.n(V),$=Object(u.a)((function(e){return{heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},detailsContainer:{display:"flex",justifyContent:"center",width:"100%",fontSize:e.typography.pxToRem(13)},details:{flex:"50%",width:"50%"}}})),q=function(e){var t=$(),n=Object(i.c)((function(e){return e.songs})),a=Object(i.c)((function(e){return e.songErr})),r=n.map((function(e){return Object(b.jsx)("li",{children:e.trackName},e.trackId)})),c=Object(p.a)({},e.result),s=new Date(c.releaseDate),o=s.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]+" "+s.getFullYear()+"r.",l=0===r.length?Object(b.jsx)(U,{}):Object(b.jsx)("ol",{children:r});return a&&(l=a),Object(b.jsxs)(z.a,{expanded:e.expanded===c.collectionId,onChange:e.handleChange(c.collectionId),children:[Object(b.jsxs)(Y.a,{expandIcon:Object(b.jsx)(W.a,{}),"aria-controls":c.collectionId+"-content",id:c.collectionId+"-header",children:[Object(b.jsx)(F.a,{className:t.heading,children:c.artistName}),Object(b.jsx)(F.a,{className:t.secondaryHeading,children:c.collectionName})]}),Object(b.jsx)("hr",{}),Object(b.jsx)(X.a,{children:Object(b.jsxs)("div",{className:t.detailsContainer,children:[Object(b.jsxs)("div",{className:t.details,children:[Object(b.jsxs)("p",{children:["Number of tracks: ",c.trackCount]}),Object(b.jsxs)("p",{children:["Country of origin: ",c.country]}),Object(b.jsxs)("p",{children:["Price: ",c.collectionPrice," ",c.currency]}),Object(b.jsxs)("p",{children:["Release date: ",o]})]}),Object(b.jsx)("div",{className:t.details,children:l})]})})]},c.collectionId+c.releaseDate)},K=Object(u.a)((function(e){return{root:{width:"100%"},waitingPanel:{color:"white",textAlign:"center",marginTop:"10px"}}}));function Q(){var e=K(),t=r.a.useState(!1),n=Object(g.a)(t,2),c=n[0],s=n[1],o=Object(i.b)(),l=Object(i.c)((function(e){return e.results})),u=Object(i.c)((function(e){return e.resErr})),j=function(e){return function(t,n){o({type:w});var a,r=c===e;s(!!n&&e),r||o((a=e,function(e){var t="lookup?id="+a+"&entity=song";S.get(t).then((function(t){e(A(t.data.results))})).catch((function(t){console.log(t.message),e(_("A probblem has occured while connecting to the database, please try again later"))}))}))}},d=l.map((function(e){return Object(b.jsx)(q,{result:e,expanded:c,handleChange:j},e.collectionId)}));""!==u&&(d=Object(b.jsx)(F.a,{className:e.waitingPanel,children:u}));var h=Object(b.jsxs)(a.Fragment,{children:[Object(b.jsxs)(F.a,{className:e.waitingPanel,children:["We're waiting for you to enter the parameters in the form, ",Object(b.jsx)("br",{}),"then the search results will be displayed here"]}),Object(b.jsx)(U,{white:!0})]});return Object(b.jsx)("div",{className:e.root,children:0===d.length?h:d})}var Z=function(){return Object(b.jsxs)(a.Fragment,{children:[Object(b.jsxs)("header",{className:"AppMainHeader",children:[Object(b.jsx)(m.a,{className:"Icon"}),Object(b.jsx)("h1",{children:"MyTunes app"})]}),Object(b.jsx)("main",{children:Object(b.jsx)(O,{left:Object(b.jsx)(J,{}),right:Object(b.jsx)(Q,{}),sl:5,sr:7})})]})},ee=n(56),te={results:[],songs:[],resErr:"",songErr:""},ne=function(e,t){return Object(p.a)(Object(p.a)({},e),t)},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return ne(e,{results:Object(ee.a)(t.results),resErr:""});case y:return ne(e,{results:[],resErr:t.err});case v:return ne(e,{songs:Object(ee.a)(t.songs),songErr:""});case N:return ne(e,{songs:[],songErr:t.err});case w:return ne(e,{songs:[]});default:return e}},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,166)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.b,se=Object(o.c)(ae,ce(Object(o.a)(l.a)));s.a.render(Object(b.jsx)(i.a,{store:se,children:Object(b.jsx)(Z,{})}),document.getElementById("root")),re()},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.72271fbd.chunk.js.map